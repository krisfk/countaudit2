jQuery(function(l){if("undefined"!=typeof ezTOC){if(0!==l(".ez-toc-widget-container.ez-toc-affix").length){var e=30;void 0!==ezTOC.scroll_offset&&(e=ezTOC.scroll_offset),l(ezTOC.affixSelector).stick_in_parent({inner_scrolling:!1,offset_top:parseInt(e)})}if(l.fn.shrinkTOCWidth=function(){l(this).css({width:"auto",display:"table"}),/MSIE 7\./.test(navigator.userAgent)&&l(this).css("width","")},1==ezTOC.smooth_scroll){var a=hostname=pathname=qs=hash=null;l("body a").click(function(e){if(hostname=l(this).prop("hostname"),pathname=l(this).prop("pathname"),qs=l(this).prop("search"),hash=l(this).prop("hash"),0<pathname.length&&"/"!=pathname.charAt(0)&&(pathname="/"+pathname),window.location.hostname==hostname&&window.location.pathname==pathname&&window.location.search==qs&&""!==hash){var t=hash.replace(/([ !"$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,"\\$1");if(0<l(t).length?a=hash:(anchor=hash,anchor=anchor.replace("#",""),a='a[name="'+anchor+'"]',0==l(a).length&&(a="")),void 0!==ezTOC.scroll_offset)var i=-1*ezTOC.scroll_offset;else{var o=l("#wpadminbar");i=0<o.length&&o.is(":visible")?-30:0}a&&l.smoothScroll({scrollTarget:a,offset:i,beforeScroll:h,afterScroll:function(){s(),n()}})}})}if(void 0!==ezTOC.visibility_hide_by_default){var t=l("a.ez-toc-toggle"),i=ezTOC.visibility_hide_by_default;Cookies&&1==Cookies.get("ezTOC_hidetoc")?t.data("visible",!1):t.data("visible",!0),i&&t.data("visible",!1),t.data("visible")||l("ul.ez-toc-list").hide(),t.click(function(e){e.preventDefault(),l(this).data("visible")?(l(this).data("visible",!1),Cookies&&(i?Cookies.set("ezTOC_hidetoc",null,{path:"/"}):Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"})),l("ul.ez-toc-list").hide("fast")):(l(this).data("visible",!0),Cookies&&(i?Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"}):Cookies.set("ezTOC_hidetoc",null,{path:"/"})),l("ul.ez-toc-list").show("fast"))})}var r=l("span.ez-toc-section").toArray(),c=r.reduce(function(e,t){return e[t.id]=l('.ez-toc-widget-container .ez-toc-list a[href="#'+l(t).attr("id")+'"]'),e},{}),f=l.map(c,function(e,t){return e}),d=function(){var e=5;void 0!==ezTOC.smooth_scroll&&1===parseInt(ezTOC.smooth_scroll)&&(e=void 0!==ezTOC.scroll_offset?parseInt(ezTOC.scroll_offset):30);var t=l("#wpadminbar");t.length&&(e+=t.height());return e}();function s(){var e,t,i,o,a,s,n=(e=d,t=r,i=l(window).scrollTop()+e+1,o=t[0],a=i-l(o).offset().top,t.forEach(function(e){var t=i-l(e).offset().top;0<t&&t<a&&(a=t,o=e)}),o);if(n){var h=c[n.id];s=h,f.forEach(function(e){s!==e&&e.parent().hasClass("active")&&e.parent().removeClass("active")}),function(e){var t=e.parent();t.hasClass("active")||t.addClass("active");i=t,o=function(e){var t=l(e),i=t.html();t.parent().append('<li id="ez-toc-height-test" class="active">'+i+"</li>");var o=jQuery("#ez-toc-height-test").height();return jQuery("#ez-toc-height-test").remove(),o-t.children("ul").first().height()}(i),l("#ez-toc-active-height").remove(),l('<style id="ez-toc-active-height">.ez-toc-widget-container ul.ez-toc-list li.active::before {height:'+o+"px;} </style>").appendTo("head");var i,o}(h)}}function n(){0<r.length&&l(".ez-toc-widget-container").length&&l(window).on("load resize scroll",s)}function h(){l(window).off("load resize scroll",s)}n()}});